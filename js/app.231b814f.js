(function(e){function t(t){for(var a,n,o=t[0],c=t[1],u=t[2],d=0,l=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&l.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(l.length)l.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,n=1;n<r.length;n++){var o=r[n];0!==i[o]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},n={app:0},i={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-14919fc2":"3b08982b","chunk-2d0d69ce":"356eca96","chunk-7a5d03b4":"899c1e96","chunk-3ee5d9ee":"e8143713","chunk-4a5f46a6":"e766b84b","chunk-5fd52348":"6a1ef4f0"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-14919fc2":1,"chunk-7a5d03b4":1,"chunk-3ee5d9ee":1,"chunk-5fd52348":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-14919fc2":"8fd9f9d7","chunk-2d0d69ce":"31d6cfe0","chunk-7a5d03b4":"ab61f4ae","chunk-3ee5d9ee":"dc401308","chunk-4a5f46a6":"31d6cfe0","chunk-5fd52348":"3499c8d3"}[e]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===i))return t()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){u=l[o],d=u.getAttribute("data-href");if(d===a||d===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete n[e],h.parentNode.removeChild(h),r(s)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){n[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,r){a=i[e]=[t,r]}));t.push(a[2]=s);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(h);var r=i[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,r[1](l)}i[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/foobar-autoplaylist/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var h=d;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";r("85ec")},1577:function(e,t,r){"use strict";r("e45f")},"1eb3":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r("d4ec"),n=r("bee2"),i=r("ade3"),s=r("e881"),o=0,c=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s["a"].And;Object(a["a"])(this,e),Object(i["a"])(this,"negated",void 0),Object(i["a"])(this,"combinedWith",void 0),Object(i["a"])(this,"isLast",!1),Object(i["a"])(this,"parent",void 0),Object(i["a"])(this,"id",void 0),this.negated=t,this.combinedWith=n,this.parent=r,this.id=o++}return Object(n["a"])(e,[{key:"negateQuery",value:function(e){return this.negated?"NOT ".concat(e):e}}]),e}()},"225b":function(e,t,r){},"24da":function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return d}));var a,n=r("b85c"),i=r("ade3"),s=(r("c975"),r("a434"),r("4160"),r("d3b7"),r("159b"),r("e881")),o=r("df26"),c=(a={},Object(i["a"])(a,s["d"].TextQuery,"text-field-query"),Object(i["a"])(a,s["d"].CombinedQuery,"combined-query-input"),Object(i["a"])(a,s["d"].TimeQuery,"time-query"),Object(i["a"])(a,s["d"].FreeSpace,"free-space-query"),a);function u(e){return c[e.type]}var d={removeQuery:function(e,t){var r=t.queries.indexOf(e);t.queries.splice(r,1),this.updateFirstAndLastQuery(e.parent||t)},updateFirstAndLastQuery:function(e){var t,r=Object(n["a"])(e.queries);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.parent=e,a instanceof o["a"]&&this.updateFirstAndLastQuery(a)}}catch(s){r.e(s)}finally{r.f()}var i=e.queries.length;0!==i&&(e.queries.forEach((function(e){return e.isLast=!1})),e.queries[i-1].isLast=!0)}}},"48d8":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.query.isLast,expression:"!query.isLast"}],staticClass:"justify-center pa-top-16"},[r("v-select",{staticClass:"width-100",attrs:{label:"Comparator",items:e.logicalOperators,dense:""},model:{value:e.query.combinedWith,callback:function(t){e.$set(e.query,"combinedWith",t)},expression:"query.combinedWith"}})],1)},n=[],i=r("bee2"),s=r("d4ec"),o=r("257e"),c=r("262e"),u=r("2caf"),d=r("ade3"),l=(r("99af"),r("07ac"),r("9ab4")),h=r("e881"),f=r("2b0e"),p=r("2fe1"),b=function(e){Object(c["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;Object(s["a"])(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(d["a"])(Object(o["a"])(e),"logicalOperators",Object.values(h["a"])),e}return Object(i["a"])(r)}(f["a"]);b=Object(l["a"])([Object(p["a"])({props:{query:{type:Object}}})],b);var m=b,y=m,v=r("2877"),g=r("6544"),k=r.n(g),w=r("0fd9"),O=r("b974"),j=Object(v["a"])(y,a,n,!1,null,"fa9073fe",null);t["a"]=j.exports;k()(j,{VRow:w["a"],VSelect:O["a"]})},5865:function(e,t,r){},"85ec":function(e,t,r){},"89f8":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a=r("d4ec"),n=r("bee2"),i=r("257e"),s=r("262e"),o=r("2caf"),c=r("ade3"),u=(r("38cf"),r("99af"),r("e881")),d=r("1eb3"),l="  ",h=function(e){Object(s["a"])(r,e);var t=Object(o["a"])(r);function r(e,n,s,o){var d;return Object(a["a"])(this,r),d=t.call(this,s,o),Object(c["a"])(Object(i["a"])(d),"queries",void 0),Object(c["a"])(Object(i["a"])(d),"isRoot",void 0),Object(c["a"])(Object(i["a"])(d),"type",u["d"].CombinedQuery),d.isRoot=n,d.queries=e,d}return Object(n["a"])(r,[{key:"rawQuery",value:function(){var e="",t=this.queries.length,r=0,a=this.parent;while(void 0!==a)a=a.parent,r++;for(var n,i=l.repeat(r),s=l.repeat(Math.max(r-1,0)),o=0;o<t;o++){var c=this.queries[o];e+=o===t-1?c.rawQuery():"".concat(c.rawQuery(),"\n").concat(i).concat(c.combinedWith,"\n").concat(i)}return n=this.isRoot?e:"(\n".concat(i).concat(e,"\n").concat(s,")"),this.negateQuery(n)}}]),r}(d["a"])},a0fa:function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return f}));var a=r("d4ec"),n=r("bee2"),i=r("257e"),s=r("262e"),o=r("2caf"),c=r("ade3"),u=(r("07ac"),r("caad"),r("2532"),r("99af"),r("1eb3")),d=r("e881"),l=r("d8cd"),h=Object.values(d["c"]),f=function(e){Object(s["a"])(r,e);var t=Object(o["a"])(r);function r(e,n,s){var o,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4?arguments[4]:void 0,h=arguments.length>5?arguments[5]:void 0;return Object(a["a"])(this,r),o=t.call(this,u,l,h),Object(c["a"])(Object(i["a"])(o),"field",void 0),Object(c["a"])(Object(i["a"])(o),"comparator",void 0),Object(c["a"])(Object(i["a"])(o),"comparedAgainst",void 0),Object(c["a"])(Object(i["a"])(o),"type",d["d"].TextQuery),o.field=e,o.comparator=n,o.comparedAgainst=s,o}return Object(n["a"])(r,[{key:"rawQuery",value:function(){var e=h.includes(this.comparator)||"string"!==typeof this.comparedAgainst||!this.comparedAgainst?"":" "+Object(l["e"])(this.comparedAgainst);return this.negateQuery("".concat(Object(l["e"])(this.field)," ").concat(this.comparator).concat(e))}}]),r}(u["a"])},a347:function(e,t,r){},a5e2:function(e,t,r){"use strict";r("5865")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a,n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app"}},[r("v-main",[r("header",{staticClass:"header"},[r("h2",[e._v("Foobar autoplaylist query editor")])]),r("v-container",{staticClass:"root-container"},[r("v-row",{attrs:{justify:"center"}},[r("HowToUse")],1),r("v-row",{attrs:{justify:"center"}},[r("QueryInputSelector",{ref:"text"})],1),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.generateQuery}},[e._v(" Generate query ")]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"align-self-center",attrs:{icon:"","aria-label":"copy to clipboard"},on:{click:e.copyToClipboard}},"v-btn",n,!1),a),[r("v-icon",[e._v(" content_copy ")])],1)]}}])},[r("span",[e._v("Copy to clipboard")])])],1),r("v-row",{attrs:{justify:"center"}},[r("v-checkbox",{attrs:{label:"Display query as multiline (easier to read, can't be copy pasted directly to foobar unless copied with the copy button)"},model:{value:e.generateMultiline,callback:function(t){e.generateMultiline=t},expression:"generateMultiline"}})],1),e.query?r("v-row",{attrs:{justify:"center"}},[r("QueryHighlighted",{staticClass:"ma-5",attrs:{code:e.query}})],1):e._e(),r("v-row",{staticClass:"pa-4",attrs:{justify:"center"}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.importQuery}},[e._v(" Import query ")])],1),r("v-row",[r("v-textarea",{attrs:{"error-messages":e.errors,placeholder:"Import query",outlined:"",id:"import-query"},model:{value:e.importedQuery,callback:function(t){e.importedQuery=t},expression:"importedQuery"}})],1)],1)],1)],1)},s=[],o=r("d4ec"),c=r("bee2"),u=r("257e"),d=r("262e"),l=r("2caf"),h=r("ade3"),f=(r("d3b7"),r("3ca3"),r("ddb0"),r("99af"),r("ac1f"),r("5319"),r("0d03"),r("25f0"),r("9ab4")),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group"},[0!==e.query.queries.length?r("v-container",{staticClass:"root-container"},[r("draggable",{attrs:{handle:".handle",group:{name:"queries"}},on:{end:e.sortQueries},model:{value:e.query.queries,callback:function(t){e.$set(e.query,"queries",t)},expression:"query.queries"}},e._l(e.query.queries,(function(t){return r("v-row",{key:t.id,staticClass:"flex-nowrap"},[r(e.getQueryComponent(t),{tag:"component",attrs:{query:t}}),r("v-icon",{staticClass:"handle"},[e._v(" drag_handle ")]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on,i=a.attrs;return[r("v-btn",e._g(e._b({staticClass:"align-self-center",attrs:{icon:"","aria-label":"remove query"},on:{click:function(){return e.removeQuery(t,e.query)}}},"v-btn",i,!1),n),[r("v-icon",[e._v(" delete_forever ")])],1)]}}],null,!0)},[r("span",[e._v("Remove query")])])],1)})),1)],1):e._e(),r("div",{staticClass:"display-flex flex-row align-center"},[r("v-select",{staticClass:"ma-5",attrs:{label:"Query type",items:e.queryInputs},model:{value:e.selectedQueryType,callback:function(t){e.selectedQueryType=t},expression:"selectedQueryType"}}),r("v-btn",{attrs:{color:"primary",id:"add-query-btn"},on:{click:e.addQuery}},[e._v("Add new query")])],1)],1)},b=[],m=r("e881"),y=r("df26"),v=r("2fe1"),g=(r("00b4"),r("1eb3")),k=r("d8cd"),w=function(e){Object(d["a"])(r,e);var t=Object(l["a"])(r);function r(e,a,n){var i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0;return Object(o["a"])(this,r),i=t.call(this,s,c,d),Object(h["a"])(Object(u["a"])(i),"field",void 0),Object(h["a"])(Object(u["a"])(i),"comparator",void 0),Object(h["a"])(Object(u["a"])(i),"comparedAgainst",void 0),Object(h["a"])(Object(u["a"])(i),"type",m["d"].TimeQuery),i.field=e,i.comparator=a,i.comparedAgainst=n,i}return Object(c["a"])(r,[{key:"validateTimeSyntax",value:function(e){return k["c"].test(e)}},{key:"rawQuery",value:function(){return this.validateTimeSyntax(this.comparedAgainst)||console.log("oopsie"),this.negateQuery("".concat(Object(k["e"])(this.field)," ").concat(this.comparator," ").concat(this.comparedAgainst))}}]),r}(g["a"]),O=function(e){Object(d["a"])(r,e);var t=Object(l["a"])(r);function r(e,a){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m["a"].And;return Object(o["a"])(this,r),n=t.call(this,!1,a,i),Object(h["a"])(Object(u["a"])(n),"queryText",void 0),Object(h["a"])(Object(u["a"])(n),"type",m["d"].FreeSpace),n.queryText=e,n}return Object(c["a"])(r,[{key:"rawQuery",value:function(){return this.queryText}}]),r}(g["a"]),j=r("d18b"),_=r("24da"),x=function(){return Promise.all([r.e("chunk-14919fc2"),r.e("chunk-2d0d69ce")]).then(r.bind(null,"72fc"))},q=function(){return Promise.all([r.e("chunk-14919fc2"),r.e("chunk-7a5d03b4")]).then(r.bind(null,"4c72"))},$=function(){return r.e("chunk-3ee5d9ee").then(r.bind(null,"2ed9"))},T=function(){return r.e("chunk-4a5f46a6").then(r.t.bind(null,"b76a",7))},Q=(a={},Object(h["a"])(a,m["d"].TextQuery,"text-field-query"),Object(h["a"])(a,m["d"].CombinedQuery,"combined-query-input"),Object(h["a"])(a,m["d"].TimeQuery,"time-query"),Object(h["a"])(a,m["d"].FreeSpace,"free-space-query"),a),C=[{text:"Metadata query",value:m["d"].TextQuery},{text:"Time query",value:m["d"].TimeQuery},{text:"Free editing space",value:m["d"].FreeSpace},{text:"Combine multiple queries",value:m["d"].CombinedQuery}],S=function(e){Object(d["a"])(r,e);var t=Object(l["a"])(r);function r(){var e;Object(o["a"])(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(h["a"])(Object(u["a"])(e),"query",new y["a"]([],!0,!1)),Object(h["a"])(Object(u["a"])(e),"selectedQueryType",m["d"].TextQuery),Object(h["a"])(Object(u["a"])(e),"updateFirstAndLastQuery",_["a"].updateFirstAndLastQuery),Object(h["a"])(Object(u["a"])(e),"removeQuery",_["a"].removeQuery),e}return Object(c["a"])(r,[{key:"queryInputs",get:function(){return C}},{key:"getQueryComponent",value:function(e){return Q[e.type]}},{key:"getQuery",value:function(){return console.log(this.query),this.query}},{key:"setQuery",value:function(e){this.query=e}},{key:"addQuery",value:function(){var e;switch(this.selectedQueryType){case m["d"].TextQuery:e=new y["b"]("","","");break;case m["d"].TimeQuery:e=new w("","","");break;case m["d"].FreeSpace:e=new O("");break;case m["d"].CombinedQuery:e=new y["a"]([],!1,!1);break;default:throw Error("Unsupported query type")}e.parent=this.query,this.query.queries.push(e),this.updateFirstAndLastQuery(e.parent)}},{key:"sortQueries",value:function(){this.updateFirstAndLastQuery(this.query)}}]),r}(n["a"]);S=Object(f["a"])([Object(v["a"])({components:{draggable:T,TextFieldQuery:x,TimeQuery:q,FreeSpaceQuery:j["a"],CombinedQueryInput:$}})],S);var E=S,R=E,I=(r("d8a1"),r("2877")),A=r("6544"),N=r.n(A),F=r("8336"),L=r("a523"),M=r("132d"),W=r("0fd9"),V=r("b974"),P=r("3a2f"),D=Object(I["a"])(R,p,b,!1,null,"0bacda3d",null),H=D.exports;N()(D,{VBtn:F["a"],VContainer:L["a"],VIcon:M["a"],VRow:W["a"],VSelect:V["a"],VTooltip:P["a"]});var G=r("b85c"),z=(r("07ac"),r("fb6a"),r("caad"),r("2532"),r("a15b"),r("1e25"),r("4d63"),r("c607"),r("2c3e"),r("a0fa")),B=r("89f8"),U=Object.values(m["a"]),Y=function(){function e(t){Object(o["a"])(this,e),Object(h["a"])(this,"input",void 0),Object(h["a"])(this,"currentIndex",0),this.input=t}return Object(c["a"])(e,[{key:"peek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.input.slice(this.currentIndex,this.currentIndex+e)}},{key:"consume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.currentIndex+=e,this.input[this.currentIndex-e]}},{key:"isEof",value:function(){return this.currentIndex===this.input.length}},{key:"backtrack",value:function(e){this.currentIndex-=e}},{key:"getRange",value:function(e,t){return this.input.slice(e,t)}}]),e}(),J=function(){function e(t){Object(o["a"])(this,e),Object(h["a"])(this,"reader",void 0),Object(h["a"])(this,"depth",0),Object(h["a"])(this,"statementTree",void 0),Object(h["a"])(this,"currentNode",void 0),this.reader=new Y(t),this.statementTree=this.createNode(!1),this.currentNode=this.statementTree}return Object(c["a"])(e,[{key:"createNode",value:function(e){return{queries:[],children:[],combinedWith:null,negated:e}}},{key:"createStatement",value:function(e){return{query:[],original:"",startIdx:this.reader.currentIndex,combinedWith:null,negated:e}}},{key:"handleLogicalToken",value:function(e,t){e.combinedWith=t,this.addStatement(e)}},{key:"addStatement",value:function(e){e.original=this.reader.getRange(e.startIdx,this.reader.currentIndex),this.currentNode.queries.push(e)}},{key:"isWhitespace",value:function(e){return/\s/.test(e)}},{key:"skipWhitespace",value:function(){while(!this.reader.isEof()){var e=this.reader.peek();if(!this.isWhitespace(e))break;this.reader.consume()}}},{key:"parse",value:function(){while(!this.reader.isEof()){if(this.skipWhitespace(),this.reader.isEof())break;var e=this.isNegated(),t=this.reader.peek();if("("===t){this.depth++;var r=this.createNode(e);r.prevNode=this.currentNode,this.currentNode.children.push(r),this.currentNode.queries.push(r),this.currentNode=r,this.reader.consume()}else if(")"===t){if(this.depth--,this.reader.consume(),this.skipWhitespace(),this.reader.isEof())break;var a=this.reader.peek();if(")"===a){if(void 0===this.currentNode.prevNode)throw new SyntaxError("Expected node to contain prevNode at position ".concat(this.reader.currentIndex));this.currentNode=this.currentNode.prevNode;continue}var n=this.nextToken();if(!U.includes(n))throw new SyntaxError("Could not parse node at position ".concat(this.reader.currentIndex,".\n            Expected one of ").concat(U.join(", ")," but got ").concat(n));if(this.currentNode.combinedWith=n,void 0===this.currentNode.prevNode)throw new SyntaxError("Expected node to contain prevNode at position ".concat(this.reader.currentIndex));this.currentNode=this.currentNode.prevNode}else{var i=this.createStatement(e),s=this.nextWord();if(i.query.push(s),this.reader.isEof()||")"===this.reader.peek()){this.addStatement(i);continue}var o=this.nextToken();if(U.includes(o)){this.handleLogicalToken(i,o);continue}if(!k["m"].has(o))throw new SyntaxError("Could not parse statement at position ".concat(this.reader.currentIndex,". Expected a built in operator but got a normal word."));if(i.query.push(o),this.reader.isEof()){this.addStatement(i);continue}var c=this.reader.peek();if(")"===c){this.addStatement(i);continue}if(/[A-Z]/.test(c)){var u=this.reader.currentIndex;if(o=this.nextToken(),U.includes(o)){this.handleLogicalToken(i,o);continue}this.reader.currentIndex=u}if(s=this.nextWord(),i.query.push(s),this.reader.isEof()){this.addStatement(i);break}if(c=this.reader.peek(),")"===c){this.addStatement(i);continue}if(o=this.nextToken(),!U.includes(o))throw new SyntaxError("Could not parse statement at position ".concat(this.reader.currentIndex,".\n            Expected one of ").concat(U.join(", ")," but got ").concat(o));this.handleLogicalToken(i,o)}}if(0!==this.depth)throw new SyntaxError("Unmatched parentheses");return this.statementTree}},{key:"nextToken",value:function(){var e="";while(!this.reader.isEof()){var t=this.reader.peek();if(this.isWhitespace(t)||")"===t)break;this.reader.consume(),e+=t}return this.skipWhitespace(),e}},{key:"isNegated",value:function(){var e="NOT";return this.reader.peek(e.length)===e&&(this.reader.consume(e.length),this.skipWhitespace(),!0)}},{key:"nextWord",value:function(){var e="",t=!1,r=[];'"'===this.reader.peek()&&(this.reader.consume(),t=!0);var a=function(e){return U.includes(e)||k["m"].has(e)};while(!this.reader.isEof()){var n=this.reader.consume();if(!t&&")"===n){a(e)?this.reader.backtrack(e.length+1):(this.reader.backtrack(1),r.push(e)),e="";break}if('"'===n&&'"'!==this.reader.peek()){if(!t)throw new SyntaxError("Unexpected quote in unquoted string at position ".concat(this.reader.currentIndex,".\n").concat(r.join(" ")).concat(n));r.push(e),e="";break}if(this.isWhitespace(n)){if(!t&&a(e)){this.reader.backtrack(e.length+1),e="";break}r.push(e),e=""}else e+=n}if(this.reader.isEof()&&""!==e){if(t)throw new SyntaxError("Unclosed quote when parsing ".concat(r.join(" ")," ").concat(e));a(e)?this.reader.backtrack(e.length+1):r.push(e.trimEnd())}return this.skipWhitespace(),r.join(" ")}}]),e}();function K(e,t){var r,a=e.query.length,n=e.query;if(2===a?k["h"].has(n[1])&&(r=new z["a"](n[0],n[1],null)):3===a&&(k["l"].has(n[1])&&k["c"].test(n[2])?r=new w(n[0],n[1],n[2]):k["m"].has(n[1])&&(r=new z["a"](n[0],n[1],n[2]))),void 0===r){var i=e.original;e.combinedWith&&(i=i.replace(new RegExp(" ".concat(e.combinedWith," *$")),"")),e.negated&&(i="NOT ".concat(i),e.negated=!1),r=new O(i)}return r.combinedWith=e.combinedWith,r.negated=e.negated,r.parent=t,r}var Z=function e(t){var r,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=new B["a"]([],a,t.negated,n),s=Object(G["a"])(t.queries);try{for(s.s();!(r=s.n()).done;){var o=r.value;"query"in o?i.queries.push(K(o,i)):i.queries.push(e(o,!1,i))}}catch(c){s.e(c)}finally{s.f()}return i.queries[i.queries.length-1].isLast=!0,i},X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"how-to-use"},[r("h3",[e._v("How to use")]),e._m(0),r("details",[r("summary",[e._v("Creating a new query")]),r("ol",[e._m(1),r("li",[e._v(' Modify the wanted query until it\'s what you want. Refer to "Query types" on what each input does. ')]),r("li",[e._v(" Queries can be reordered by dragging them with the drag icon "),r("v-icon",{staticClass:"handle"},[e._v("drag_handle")]),e._v(". When using nested queries, queries can be dragged in and out of the gray boxes representing the nested query. ")],1),r("li",[e._v(" Queries can be deleted by clicking on the trash can icon "),r("v-icon",{staticStyle:{cursor:"pointer"}},[e._v("delete_forever")]),e._v(". Deleting a nested query will delete everything inside it as well. ")],1)])]),e._m(2)])},ee=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("details",[r("summary",[e._v("Importing a query")]),r("ol",[r("li",[e._v(" You can import an existing query by pasting it in the "),r("a",{attrs:{href:"#import-query"}},[e._v("import query")]),e._v(" textbox and then clicking on import query. ")]),r("li",[e._v(' After a successful import the imported query will be reformatted under the "Generate query" button. ')]),r("li",[e._v(" In case the generated query differs from the original or an error occurs during import when it should not, create an issue on the "),r("a",{attrs:{href:"https://github.com/s0hv/foobar-autoplaylist/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub repository")]),e._v(". ")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[e._v(" Start by selecting the appropriate query type and then clicking "),r("a",{attrs:{href:"#add-query-btn"}},[e._v("add new query")]),e._v('. The type of query you\'ll most likely want to start with is metadata query. "Query types" has more information on each type of query. ')])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("details",[r("summary",[e._v("Query types")]),r("details",[r("summary",[e._v("General information on queries")]),r("ul",[r("li",[e._v(" Most fields have suggested values but will accept any arbitrary value unless otherwise specified. ")]),r("li",[e._v(" Each query has a NOT checkbox that will invert the result of the query if checked. ")]),r("li",[e._v(" Queries can be combined with either AND or OR logical operators. The input containing these options will show up when more than one query is used. ")])])]),r("details",[r("summary",[e._v("Metadata query")]),r("span",[e._v(" This type of query is used for text comparisons. The first field should be a metadata field (e.g. %artist%) or a function. The operator list contains operators that can be used for comparing two strings. The last input is the value the the first input is compared to. This can be any arbitrary value, metadata field or function. ")])]),r("details",[r("summary",[e._v("Time query")]),r("span",[e._v(" This type of query is used for date comparisons. The first field should be a metadata field or a function that returns a date. The second field contains the operator used to compare two dates. The last field is for a date input which only accepts values in the format YYYY-MM-DD hh:mm:ss. The accuracy can be changed with the slider below. ")])]),r("details",[r("summary",[e._v("Free editing space")]),r("span",[e._v(" You can write anything here in case some functionality is not possible to do using the existing queries. ")])]),r("details",[r("summary",[e._v("Combine multiple queries")]),r("span",[e._v(" This query does not have any inputs in it but you can drag other queries inside it. This query is the functional equivalent of brackets. ")])])])}],te=function(e){Object(d["a"])(r,e);var t=Object(l["a"])(r);function r(){return Object(o["a"])(this,r),t.apply(this,arguments)}return Object(c["a"])(r)}(n["a"]);te=Object(f["a"])([v["a"]],te);var re=te,ae=re,ne=(r("a5e2"),Object(I["a"])(ae,X,ee,!1,null,"3ced30bc",null)),ie=ne.exports;N()(ne,{VIcon:M["a"]});var se=function(){return r.e("chunk-5fd52348").then(r.bind(null,"539a"))},oe=function(e){Object(d["a"])(r,e);var t=Object(l["a"])(r);function r(){var e;Object(o["a"])(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(h["a"])(Object(u["a"])(e),"query",""),Object(h["a"])(Object(u["a"])(e),"importedQuery",""),Object(h["a"])(Object(u["a"])(e),"errors",[]),Object(h["a"])(Object(u["a"])(e),"generateMultiline",!0),Object(h["a"])(Object(u["a"])(e),"$refs",void 0),e}return Object(c["a"])(r,[{key:"singleLineQuery",value:function(e){return e.replace(/\s*\n\s*/g," ")}},{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.singleLineQuery(this.query))}},{key:"generateQuery",value:function(){var e;this.query=(null===(e=this.$refs.text.getQuery())||void 0===e?void 0:e.rawQuery())||"",this.generateMultiline||(this.query=this.singleLineQuery(this.query))}},{key:"importQuery",value:function(){var e,t=new J(this.importedQuery);try{e=Z(t.parse())}catch(r){return void(this.errors=[r.toString()])}this.errors=[],this.$refs.text.setQuery(e),this.generateQuery()}}]),r}(n["a"]);oe=Object(f["a"])([Object(v["a"])({components:{HowToUse:ie,QueryInputSelector:H,QueryHighlighted:se}})],oe);var ce=oe,ue=ce,de=(r("034f"),r("7496")),le=r("ac7c"),he=r("f6c4"),fe=r("a844"),pe=Object(I["a"])(ue,i,s,!1,null,null,null),be=pe.exports;N()(pe,{VApp:de["a"],VBtn:F["a"],VCheckbox:le["a"],VContainer:L["a"],VIcon:M["a"],VMain:he["a"],VRow:W["a"],VTextarea:fe["a"],VTooltip:P["a"]});var me=r("f309");n["a"].use(me["a"]);var ye=new me["a"]({theme:{themes:{light:{primary:"#007BFF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"md"}}),ve=(r("a347"),r("b6d0"));n["a"].use(ve["a"]),new n["a"]({vuetify:ye,render:function(e){return e(be)}}).$mount("#app")},d18b:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"query-row"},[r("v-row",[r("v-textarea",{staticClass:"resizable",attrs:{label:"Free text edit space",rows:"1","no-resize":!1,"hide-details":"","auto-grow":"","row-height":"46"},model:{value:e.query.queryText,callback:function(t){e.$set(e.query,"queryText",t)},expression:"query.queryText"}})],1),r("comparator",{attrs:{query:e.query}})],1)},n=[],i=r("bee2"),s=r("d4ec"),o=r("257e"),c=r("262e"),u=r("2caf"),d=r("ade3"),l=(r("99af"),r("9ab4")),h=r("2fe1"),f=r("2b0e"),p=r("48d8"),b=function(e){Object(c["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;Object(s["a"])(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(d["a"])(Object(o["a"])(e),"$props",void 0),e}return Object(i["a"])(r)}(f["a"]);b=Object(l["a"])([Object(h["a"])({components:{Comparator:p["a"]},props:{query:{type:Object}}})],b);var m=b,y=m,v=(r("1577"),r("2877")),g=r("6544"),k=r.n(g),w=r("a523"),O=r("0fd9"),j=r("a844"),_=Object(v["a"])(y,a,n,!1,null,"114a999e",null);t["a"]=_.exports;k()(_,{VContainer:w["a"],VRow:O["a"],VTextarea:j["a"]})},d8a1:function(e,t,r){"use strict";r("225b")},d8cd:function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"j",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return l})),r.d(t,"i",(function(){return h})),r.d(t,"k",(function(){return f})),r.d(t,"h",(function(){return m})),r.d(t,"l",(function(){return y})),r.d(t,"m",(function(){return v})),r.d(t,"g",(function(){return k}));var a=r("2909"),n=(r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("00b4"),r("5319"),r("99af"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("07ac"),r("466d"),r("e881")),i="\\d{4}(-\\d{2}(-\\d{2}( \\d{2}(:\\d{2}(:\\d{2})?)?)?)?)?",s=new RegExp("^".concat(i,"$")),o=function(e){return/^%(\w|_)+%$/.test(e)||/^\d+(\.\d+)?$/.test(e)?e:'"'.concat(e.replace(/"/g,""),'"')},c=["%last_modified%","%first_played%","%last_played%","%added%"],u=["%album artist%","%album%","%artist%","%discnumber%","%totaldiscs%","%track artist%","%title%","%tracknumber%","%track number%","%bitrate%","%channels%","%codec%","%filesize%","%filesize_natural%","%length%","%length_ex%","%length_seconds%","%length_seconds_fp%","%length_samples%","%samplerate%","%replaygain_album_gain%","%replaygain_album_peak%","%replaygain_album_peak_db%","%replaygain_track_gain%","%replaygain_track_peak%","%replaygain_track_peak_db%","%filename%","%filename_ext%","%directoryname%","%path%","%_path_raw%","%subsong%","%play_count%","%played_per_day%","%rating%","%rating_stars%","%rating_stars_fixed%"].concat(c),d=["$add(a, b, ...)","$div(a, b, ...)","$greater(a, b)","$max(a, b, ...)","$min(a, b, ...)","$mod(a, b, ...)","$mul(a, b, ...)","$muldiv(a, b, c)","$sub(a, b, ...)"],l=["$and(expr, ...)","$or(expr, ...)","$not(expr)","$xor(expr, ...)"],h=["$abbr(str)","$abbr(str, len)","$ansi(str)","$ascii(str)","$caps(str)","$caps2(str)","$char(nbr)","$crc32(str)","$crlf()","$cut(str, len)","$directory(path)","$directory(path, n)","$ext(path)","$filename(path)","$hex(int, len)","$insert(str, insert, n)","$left(str, len)","$len(str)","$len2(str)","$longer(str1, str2)","$lower(str)","$longest(arg,...)","$num(nbr,len)","$replace(str,search,replace)","$right(str,len)","$roman(int)","$shortest(str,...)","$strcmp(str1,str2)","$stricmp(str1,str2)","$stripprefix(str,prefix1,prefix2,...)","$substr(str,from,to)","$trim(str)","$upper(str)"],f=["$year(time)","$month(time)","$day_of_month(time)","$date(time)","$time(time)"],p={$add:"Addition of numbers. a + b + ...",$div:"a / b rounding down to the closest integer. If b is zero returns a. Can be used with any number of arguments.",$greater:"Returns true if a is greater than b, otherwise false",$max:"Returns the largest number among the given arguments.",$min:"Returns the smallest number among the given arguments.",$mod:"Returns the division remainder of a divided by b. Can be used with any number of arguments.",$mul:"a * b * ...",$muldiv:"(a * b) / c rounded down to the nearest integer.",$sub:"Subtraction of numbers. a - b - ...",$and:"Logical AND for an arbitrary number of arguments.",$or:"Logical OR for an arbitrary number of argument.",$not:"Logical NOT. True becomes false and false becomes true.",$xor:"Logical exclusive-or for an arbitrary number of arguments.",$abbr:"Returns an abbreviation of the string by shortening each word to its first letter. Spaces and parentheses are stripped. If the len parameter is given, returns the abbreviation if string is longer than len.",$ansi:"Converts str to system codepage. Characters not present in the system codepage will be removed / replaced.",$ascii:"Converts str to ASCII. Any characters not present in ASCII will be removed / replaced.",$caps:"Converts the first letter of every word in str to uppercase and other letters to lowercase.",$caps2:"Converts the first letter of every word in str to uppercase. Does not modify other letters.",$char:"Returns Unicode character of nbr.",$crc32:"Computes the CRC32 of the string as a number.",$crlf:"Inserts end-of-line marker (carriage return, line feed).",$cut:"Returns the first len characters from the left of the string str. Negative numbers return str.",$directory:"Extracts directory name from path. If the n parameter is given goes up by n levels.",$ext:"Extracts file extension from filename or path to file.",$filename:"Extracts filename from path.",$hex:"Returns the integer in hexadecimal notation with len digits. Left padded with zeros if necessary.",$insert:"Inserts insert into str after n characters",$left:"Returns the first len characters from the left of the string. Negative numbers return str.",$len:"Returns the length of the string str.",$len2:"Returns the length of the string str counting double width characters as two.",$longer:"Returns true if str1 is longer than str2, false otherwise.",$lower:"Converts str to lowercase.",$longest:"Returns the longest of its arguments. Can be used with an arbitrary number of strings.",$num:"Formats the integer number nbr in decimal notation with len characters. Pads with zeros from the left if necessary. len includes the dash when the number is negative. If nbr is not numeric, it is treated as zero.",$replace:"Replaces all occurrences of string search in string str with string replace. Can also be used with an arbitrary number of arguments.",$right:"Returns the first len characters from the right of string str.",$roman:"Formats the integer number int in roman notation.",$shortest:"Returns the first shortest element of its arguments. Can be used with an arbitrary number of strings.",$strcmp:"Performs a case-sensitive comparison of the strings str1 and str2.",$stricmp:"Performs a case-insensitive comparison of the strings str1 and str2.",$stripprefix:"Removes the specified prefixes from string str.",$substr:"Returns substring of string str, starting from FROM-th character and ending at TO-th character.",$trim:"Removes leading and trailing spaces from string str.",$upper:"Converts string str to uppercase.",$meta:'Returns value of tag called name. If multiple values of that tag exist, they are concatenated with ", " as separator. If a second parameter is given returns value of n-th (0,1,2 and so on) tag called name.',$meta_test:"Returns value of tag called name. If multiple values of that tag exist, they are concatenated with sep as separator.",$meta_num:"Returns the number of values for the tag called name.",$info:"Returns value of technical information field called name. More info can be found here https://wiki.hydrogenaud.io/index.php?title=Foobar2000:Title_Formatting_Reference#.24info.28name.29",$channels:"The number of channels in text format.",$year:"Retrieves the year part (formatted as four digits) from a time/date string.",$month:"Retrieves the month part (formatted as two digits) from a time/date string.",$day_of_month:"Retrieves the day of month part (formatted as two digits) from a time/date string.",$date:"Retrieves the date part (formatted as YYYY-MM-DD) from a time/date string.",$time:"Retrieves the time part (formatted as HH:MM:SS or HH:MM) from a date/time string."},b={"%album artist%":'Name of the artist of the album the track belongs to. Checks following metadata fields, in this order: "album artist", "artist", "composer", "performer".',"%album%":'Name of the album specified track belongs to. Checks following metadata fields, in this order: "album", "venue".',"%artist%":'Name of the artist of the track. Checks following metadata fields, in this order: "artist", "album artist", "composer", "performer".',"%discnumber%":'Index of disc specified track belongs to, within the album. Available only when "discnumber"/"disc" field is present in track’s metadata.',"%totaldiscs%":'Index of total discs specified tracks belong to, within the album. Available only when "discnumber"/"disc" field is present in track’s metadata.',"%track artist%":"Name of the artist of the track; present only if %album artist% is different than %artist% for specific track.","%title%":'Title of the track. If "title" metadata field is missing, file name is used instead.',"%tracknumber%":"Two-digit index of specified track within the album. Available only when \"tracknumber\" field is present in track’s metadata. An extra '0' is placed in front of single digit track numbers (5 becomes 05).","%track number%":"Similar to %tracknumber%, however single digit track numbers are not reformatted to have an extra 0.","%bitrate%":"Bitrate of the track in kilobits per second.","%channels%":'Number of channels in the track, as text; either "mono", "stereo" for 1 or 2 channels, respectively, otherwise a number followed by "ch", e.g. "6ch".',"%codec%":"Name of codec used to encode the track, e.g. PCM, FLAC, MP3, or AAC. If exact codec name is not available, file extension is used.","%filesize%":"The exact file size in bytes.","%filesize_natural%":'The approximate file size, automatically formatted in appropriate units such as megabytes or kilobytes, e.g. "8.49 MB"',"%length%":"The length of the track formatted as hours, minutes, and seconds, rounded to the nearest second.","%length_ex%":"The length of the track formatted as hours, minutes, seconds, and milliseconds, rounded to the nearest millisecond.","%length_seconds%":"The length of the track in seconds, rounded to the nearest second.","%length_seconds_fp%":"The length of the track in seconds as a floating point number.","%length_samples%":"The length of the track in samples.","%samplerate%":"Sample rate of the track, in Hz.","%replaygain_album_gain%":"The ReplayGain album gain value.","%replaygain_album_peak%":"The ReplayGain album peak value.","%replaygain_album_peak_db%":"The ReplayGain album peak value in decibels.","%replaygain_track_gain%":"The ReplayGain track gain value.","%replaygain_track_peak%":"The ReplayGain track peak value.","%replaygain_track_peak_db%":"The ReplayGain track peak value in decibels.","%filename%":"The filename without directory and extension.","%filename_ext%":"The filename with extension, but without the directory.","%directoryname%":"The name of the parent directory only, not the complete path.","%last_modified%":"The date and time the file was last modified. Eg: 2005-12-22 00:04:10","%path%":"The complete path, including the filename and extension.","%subsong%":"The subsong index.","%first_played%":"Date/time at which the song was played for the first time.","%last_played%":"Date/time at which the song was played last time.","%play_count%":"How many times the song has been played.","%played_per_day%":"Estimate how many times per day the song has been played, based on time first played, time last played and times played.","%added%":"Date/time at which the song was added to the Media Library.","%rating%":"Song's rating, on a 1–5 scale.","%rating_stars%":"Song's rating, formatted as up to five stars, e.g. ★★★","%rating_stars_fixed%":"Song's rating, formatted as five stars, e.g. ★★★☆☆"},m=new Set(Object.values(n["c"])),y=new Set(Object.values(n["f"])),v=new Set([].concat(Object(a["a"])(Object.values(n["e"])),Object(a["a"])(Object.values(n["c"])),Object(a["a"])(Object.values(n["b"])),Object(a["a"])(Object.values(n["f"])))),g=/^\s*(\$\w+).*?$/;function k(e){var t=e.match(g);return null===t?b[e]||"":p[t[1]]||""}},df26:function(e,t,r){"use strict";var a=r("a0fa");r.d(t,"b",(function(){return a["a"]})),r.d(t,"c",(function(){return a["b"]}));var n=r("89f8");r.d(t,"a",(function(){return n["a"]}))},e45f:function(e,t,r){},e881:function(e,t,r){"use strict";var a,n,i,s,o,c;r.d(t,"a",(function(){return a})),r.d(t,"e",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return c})),function(e){e["And"]="AND",e["Or"]="OR"}(a||(a={})),function(e){e["Has"]="HAS",e["Is"]="IS"}(n||(n={})),function(e){e["Missing"]="MISSING",e["Present"]="PRESENT"}(i||(i={})),function(e){e["Before"]="BEFORE",e["After"]="AFTER",e["Since"]="SINCE",e["During"]="DURING"}(s||(s={})),function(e){e["Greater"]="GREATER",e["Less"]="LESS",e["Equal"]="EQUAL"}(o||(o={})),function(e){e[e["TextQuery"]=0]="TextQuery",e[e["CombinedQuery"]=1]="CombinedQuery",e[e["TimeQuery"]=2]="TimeQuery",e[e["FreeSpace"]=3]="FreeSpace"}(c||(c={}))}});
//# sourceMappingURL=app.231b814f.js.map